<div class="container">
    <div class="row">
        <div class="col-md-12">
            <h1 class="text-center mt-5">Üdvözöllek a Pizzériában!</h1>
        </div>
    </div>
    <div class="row justify-content-center text-center mt-5">
        <div class="col-md-3">
            <div class="form-group" *ngIf="kitchen.inicialized == false">
                <input #db type="number" id="db" ngModel name="db" class="form-control text-center"
                    placeholder="Add meg a sütők számát">
                <label class="text-danger" *ngIf="kitchen.wrongAmount == true">1 és 10 közötti számot adj
                    meg!</label>
                <input #ido type="number" id="ido" ngModel name="ido" class="form-control text-center mt-2"
                    placeholder="Add meg a sütés idejét!">
                <label class="text-danger" *ngIf="kitchen.wrongTime == true">1 és 40 közötti számot adj
                    meg!</label><br>
                <button class="btn btn-primary"
                    (click)="kitchen.sutoInicializalas(db.valueAsNumber, ido.valueAsNumber)">Nyitás</button>
            </div>
        </div>
    </div>
</div>
<div class="container" *ngIf="kitchen.inicialized == true">
    <div class="row justify-content-center text-center">
        <div class="col-md-10">
            <strong>Vevők</strong>
            <table class="table table-striped table-bordered mt-2">
                <thead>
                    <tr>
                        <th scope="col">Név</th>
                        <th scope="col">Cím</th>
                        <th scope="col">Telefonszám</th>
                        <th scope="col">Kiválaszt</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let costumer of costumers">
                        <td>{{costumer.name}}</td>
                        <td>{{costumer.address}}</td>
                        <td>{{costumer.telephone}}</td>
                        <td>
                            <button class="btn btn-primary" *ngIf="selectedCostumer!=costumer; else buttonSelected"
                                (click)="selectCostumer(costumer)">Kiválaszt</button>
                            <ng-template #buttonSelected><button class=" btn
                                                    btn-success">Kiválaszt</button></ng-template>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="row justify-content-center text-center">
        <div class="col-md-10 ">
            <strong>Pizzák</strong>
            <table class="table table-striped table-bordered mt-2">
                <thead>
                    <tr>
                        <th scope="col">Név</th>
                        <th scope="col">Összetevők</th>
                        <th scope="col">Ár</th>
                        <th scope="col">Mennyiség</th>
                        <th scope="col">Kiválaszt</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let pizza of pizza">
                        <td>{{pizza.name}}</td>
                        <td>{{pizza.description}}</td>
                        <td>{{pizza.price}}</td>
                        <td>{{pizza.selected}}</td>
                        <td>
                            <button class="btn btn-primary custom" *ngIf=" !selectedPizza.includes(pizza); else
                                        buttonSelected2" (click)="selectPizza(pizza)">+</button>
                            <ng-template #buttonSelected2><button class="btn
                                        btn-success custom" (click)="selectPizza(pizza)">+</button>
                            </ng-template><button class="btn btn-danger custom ml-1"
                                (click)="deselectPizza(pizza)">-</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="row justify-content-center">
        <div class="col-md-2">
            <button class="submit btn btn-primary float-right"
                [disabled]="selectedCostumer == null || selectedPizza.length == 0"
                (click)="rendeles(selectedCostumer, selectedPizza)">Pizza
                rendelés</button>
        </div>
    </div>

</div>
<div class="container">

    <div class="row justify-content-center" *ngIf="kitchen.inicialized == true">
        <div class="col-md-3 text-center">
            <strong>Sütők</strong>
            <table class="table table-striped table-bordered mt-2">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Elérhető</th>
                        <th scope="col">Sütőóra</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let suto of kitchen.ovens">
                        <td>{{suto.getID()}}</td>
                        <td>{{suto.getAvailability()}}</td>
                        <td>{{suto.getOvenTimer().getMinutesString()}}:{{suto.getOvenTimer().getSecondsString()}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="row mt-5">
        <div class="col-md-3 text-primary">
            <p style="white-space: pre;">{{getRendelesLog()}}</p>
        </div>
        <div class="col-md-2"></div>
        <div class="col-md-3 text-warning">
            <p style="white-space: pre;">{{getVarakozasLog()}}</p>
        </div>
        <div class="col-md-1"></div>
        <div class="col-md-3">
            <app-oven-management></app-oven-management>
        </div>
    </div>
</div>